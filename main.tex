\documentclass{book}

\title{CLAST}
\author{Matteo Crespi 748274}
\date{Agosto 2016}

% IMPORT

\usepackage[italian]{babel}
\usepackage[utf8]{inputenc}
\usepackage{csquotes}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{setspace}
\usepackage{color}
\usepackage{float}
\usepackage{url}

% COMMAND

\newcommand{\image}[4]{
  \begin{figure}[H]
  \makebox[\textwidth][c]{
    \includegraphics[scale=#4]{#1}
  }
  \caption{#2}
  \label{#3}
  \end{figure}
}

% LISTING

\renewcommand{\lstlistingname}{Listato}

\definecolor{gray}{rgb}{0.5,0.5,0.5}

\lstset{
  basicstyle=\ttfamily,
  commentstyle=\color{gray},
  captionpos=b,
}

% FORMATTING

\setstretch{1.3}
\setlength{\oddsidemargin}{36.1pt}
\setlength{\evensidemargin}{0pt}
\setlength{\marginparwidth}{40pt}
\marginparsep 10pt
\topmargin 0pt \headsep .5in
\textheight 8.1in \textwidth 6in
% \brokenpenalty=10000
\linespread{1.3}

% BIBLIOGRAPHY

\usepackage[
  backend=biber,
  sorting=ynt,
  style=ieee-alphabetic,
  defernumbers=true
]{biblatex}
\addbibresource{bib/papers.bib}
\addbibresource{bib/books.bib}
\addbibresource{bib/websites.bib}

% DOCUMENT

\begin{document}

\maketitle

\newpage

\tableofcontents
\listoftables
\listoffigures
\lstlistoflistings

\cleardoublepage

\chapter{Introduzione}

AGGIUNGI INTRODUZIONE CHE PARLA DEL CONTENUTO DELLA TESI E DEGLI OBIETTIVI DEL
PROGETTO DI TESI

\include{src/motivations}

\begingroup
\let\clearpage\relax

\chapter{Teoria}

Lo scopo di questo capitolo è quello di introdurre il lettore all'ambito di
ricerca all'interno del quale questa tesi si colloca, e quindi in particolare
all'ambito della Source Code Analysis, e ai concetti fondamentali a partire dai
quali si articola il progetto soggetto del lavoro di tesi.\\

La Source Code Analysis studia il processo di estrazione di un informazioni
riguardo un programma a partire dal codice sorgente di questo, un'attibità di
particolare importanza all'interno del più ampio campo dell'ingegneria del
software.

In particolare, la libreria CLAST, soggetto di questa tesi, si pone come
obiettivo quello di abilitare la creazione di strumenti per la Source Code
Analysis nel contesto rappresentato dal linguaggio di programmazione Common
Lisp.

All'interno della Sezione \ref{source-code-analysis}, vengono quindi presentate
l'architettura tipica di uno strumento di Source Code Analysis e le principali
strategie per la creazione di strumenti di questo tipo, indicando e discutendo
come la libreria CLAST si inserisca all'interno di questa architettura e come
possa semplificare la progettazione e costruzione di nuovi strumenti.\\

Le sezioni successive, come precedentemente indicato, affrontano invece i più
importanti fondamenti a partire dai quali la libreria CLAST opera e che
risultano particolarmente significativi per la comprensione della progettazione
e realizzazione della libreria, aspetti che verranno approfonditi nel Capitolo
\ref{library}.

Tra questi concetti vengono quindi presenti quello di abstract syntax tree e
quelli di macro e ambiente Common Lisp.\\

La Sezione \ref{abstract-syntax-tree} illustra il concetto di abstract syntax
tree in quanto rappresenta la struttura dati fondamentale a partire dalla quale
la libreria svolge il proprio lavoro di modellazione di un programma Common
Lisp. Essendo in oltre gli abstract syntax tree l'output dell'azione della
libreria, vengono presentate le principali applicazioni di strutture dati di
questo tipo, sia nella letteratura e nel mondo della ricerca sia nel mondo
dell'industria. Questo allo scopo di presentare al lettore i potenziali
strumenti che possono essere costruiti a partire dalla libreria.

La Sezione \ref{macro} presenta quindi il concetto di macro Common Lisp in
quanto questo rappresenta l'aspetto più interessante e peculiare del linguaggio
di programmazione target dell'analisi svolta dalla libreria e soprattutto in
quanto particolarmente significativo dal punto di vista di un'analisi che opera
a livello di codice sorgente come quella operata da CLAST.

Infine, la Sezione \ref{environments} introduce il concetto di ambiente Common
Lisp, strumento che, sia dal punto di vista della progettazione che dal punto di
vista implementativo, rappresenta la principale dipendenza della libreria CLAST,
in quanto fondamento a partire dal quale questa è in grado di agire.

\include{src/source-code-analysis}
\include{src/abstract-syntax-tree}
\include{src/macro}
\include{src/environment}

\endgroup

\begingroup
\let\clearpage\relax

\chapter{Libreria}
\label{library}

Lo scopo di questo capitolo è presentare al lettore di tesi il funzionamento e
l'interfaccia della libreria CLAST, mostrando quindi sia l'architettura interna
della libreria sia le funzionalità offerte da queste agli utenti.

Internamente la libreria è organizzata in moduli, in particolare, all'interno di
tre diversi moduli chiamati rispettivamente: un modulo di rappresentazione, un
modulo di parsing e analisi ed un modulo di traversal.\\

Il modulo di rappresentazione è responsabile per la definizione delle strutture
necessarie alla modellazione di un programma Common Lisp. Si tratta quindi del
modulo fondamentale a partire la libreria è in grado di realizzare una
rappresentazione in forma di AST del programma in input attraverso l'azione del
modulo di parsing e analisi. La progettazione e la struttura interna del modulo
vengono illustrate e discusse all'interno della Sezione \ref{representation}.\\

All'interno della Sezione \ref{parsing} viene invece presentato il modulo di
parsing ed analisi. Questo modulo rappresenta il cuore del funzionamento della
libreria in quanto realizza la funzionalità vera e propria di generazione
dell'AST di un programma scritto utilizzando il linguaggio Common Lisp a partire
dalle strutture di rappresentazione offerte dal modulo di rappresentazione prima
citato.

Lo scopo di questo modulo è quindi quello di svolgere le attività di parsing del
codice sorgente del programma in input, in maniera tale da organizzare i diversi
elementi di questo all'interno di una struttura ad albero, e di svolgere
parallelamente un'attività di analisi del funzionamento di questo, mirata ad
arricchire con maggiori informazioni i nodi che compongono la struttura ad
albero producendo quindi la rappresentazione più ricca possibile del programma
in input. Nel corso della Sezione vengono quindi presentate le principali
componenti del modulo e l'interazione tra queste attraverso un esempio.\\

L'ultima Sezione di questo Capitolo presenta invece il modulo di traversal
offerto dalla libreria, il quale raccoglie le diverse funzionalità costruite a
partire a partire dalla rappresentazione prodotta in output dal modulo di
parsing ed analisi. La responsabilità del modulo è quindi quella di consentire
agli utenti l'ispezione e l'esecuzione di elaborazioni dell'AST, prodotto a
partire dalle strutture denifinite dal modulo di rappresentazione, di un
programma Common Lisp. Questo modulo costituisce quindi la principale
interfaccia attraverso la quale un sistema costruito a partire dalla libreria è
in grado di accedere ai servizi offerti da questa.

\include{src/module-representation}
\include{src/module-parsing}
\include{src/module-traversal}

\endgroup

\chapter{Applicazioni}
\label{applications}

AGGIUNGI ALL’INTRODUZIONE DELLE APPLICAZIONI IL FATTO CHE L’OBIETTIVO DELLA
LIBRERIA È SIA QUELLO DI CONSENTIRE LA COSTRUZIONE DI STRUMENTI DI SOURCE CODE
ANALYSIS MA ANCHE, DAL PUNTO DI VISTA PIÙ SPERIMENTALE, LA DEFINIZIONE DI
ESTENSIONI DEL LINGUAGGIO DI PROGRAMMAZIONE COMMON LISP STESSO.

La riscrittura del form Lisp è tradizionalmente considerata un'operazione
particolarmente semplice, soprattutto grazie al ricco costrutto macro offerto
dal linguaggio di programmazione stesso.

Tuttavia, proprio a causa della della presenza all'interno del linguaggio di
dello stesso costrutto macro, una funzionalità di supporto alla
meta-programmazione particolarmente potente e particolare, descritta nel corso
della Sezione \ref{macro}, la manipolazione del codice sorgente vero e proprio
di un programma risulta invece essere particolarmente complessa.

Il costrutto macro introduce infatti diversi livelli di astrazione anche a
livello di codice sorgente, aspetto caratteristico del linguaggio Common Lisp, e
che porta quindi a diverse difficoltà particolarmente significative nella
definizione di modalità di analisi e gestione del codice sorgente.\\

% Avere a disposizione informazioni rispetto all'AST risulta particolarmente
% abilitante nel contesto del CL.

La libreria CLAST risolve questo problema fornendo uno strumento che consente la
rappresentazione e l'analisi del codice sorgente di un programma Common Lisp, in
forma di abstract syntax tree.

In questo capitolo vengono quindi presentate alcune delle potenziali
applicazioni di questo strumento, illustrando le possibilità che questo
introduce a livello di strumenti per la source code analysis, che possono ora
essere costruiti a partire da questo, e anche nel contesto del linguaggio di
programmazione stesso.

% Inoltre, come largamente anticipato nelle prime sezioni della tesi, l'avere a
% disposizione uno strumento come CLAST, in grado di operare il parsing di un
% frammento di codice e produrre una rappresentazione di questo risolve due
% terzi del problema di costruire uno strumento di source code analysis.

In particolare, la Sezione \ref{free-variables-analysis} presenta come la
libreria possa essere immediatamente utilizzata per il supporto alla definizione
di strumenti per la Free Variable Analysis, ossia uno strumento in grado di
identificare e riportare l'utilizzo di variabili libere all'interno di un
programma.

Oltre a consentire l'identificazione in maniera semplice dell'utilizzo di
variabili libere all'interno di un programma, la libreria CLAST consente
l'identificazione dell'utilizzo di un qualsiasi costrutto. La Sezione prosegue
quindi discutendo come questa funzionalità possa essere utilizza allo scopo di
costruire strumenti per il linting di codice Common Lisp, una particolare
categoria di strumenti di supporto alla programmazione basato sull'analisi
statica.\\

Nel corso della Sezione \ref{pattern-matching} viene invece presentato il
concetto di pattern matching, un particolare meccanismo, comune a diversi
linguaggio di programmazione funzionali. A partire dalla definizione fornita
viene quindi discusso come il linguaggio posso essere esteso sfruttando la
soluzione proposta dalla libreria alla free variable analysis per ottenere
un'implementazione del meccanismo particolarmente efficiente.\\

Infine, la Sezione \ref{lazy-evaluation} discute un'altra estensione al
linguaggio Common Lisp resa possibile dalla creazione della libreria. Questa
estensione è rappresentata dall'introduzione in maniera nativa di un supporto al
valutazione lazy di una programma, meccanismo comune a diversa altri linguaggio,
come ad esempio il linguaggio Haskell ed il linguaggio LML.

\include{src/free-variables-analysis}
\include{src/pattern-matching}
\include{src/lazy-evaluation}

\chapter{Conclusione}
\section{Sviluppi Futuri}

\appendix

\chapter{Codice}

\begin{lstlisting}
(some code)
\end{lstlisting}

\printbibliography[nottype=misc,title={Bibliografia}]
\printbibliography[type=misc,title={Sitografia}]

\end{document}
